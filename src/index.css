@tailwind base;
@tailwind components;
@tailwind utilities;

/* =============================================================================
   THEMING SYSTEM - STRICT SEPARATION OF CONCERNS
   
   1. COLOR MODE (.light / .dark) - Controls ALL semantic tokens
   2. BACKGROUND THEMES (data-theme="ocean") - ONLY decorative, NEVER semantic
   
   These two systems are completely independent and stack together.
   ============================================================================= */

@layer base {
  /* =========================================================================
     LIGHT MODE - Default semantic tokens
     ========================================================================= */
  :root {
    /* Core semantic colors - Light mode defaults */
    --background: 0 0% 100%;           /* Pure white */
    --foreground: 0 0% 0%;             /* Pure black text */
    
    --card: 0 0% 98%;                  /* Very light gray cards */
    --card-foreground: 0 0% 0%;
    
    --popover: 0 0% 100%;
    --popover-foreground: 0 0% 0%;
    
    --primary: 217 91% 60%;            /* Blue primary */
    --primary-foreground: 0 0% 100%;
    
    --secondary: 0 0% 96%;
    --secondary-foreground: 0 0% 0%;
    
    --muted: 0 0% 96%;
    --muted-foreground: 0 0% 45%;
    
    --accent: 217 91% 60%;
    --accent-foreground: 0 0% 100%;
    
    --destructive: 0 84% 60%;
    --destructive-foreground: 0 0% 100%;
    
    --border: 0 0% 90%;
    --input: 0 0% 90%;
    --ring: 217 91% 60%;
    
    --radius: 1rem;
    
    /* Sidebar semantic tokens */
    --sidebar-background: 0 0% 98%;
    --sidebar-foreground: 0 0% 10%;
    --sidebar-primary: 217 91% 60%;
    --sidebar-primary-foreground: 0 0% 100%;
    --sidebar-accent: 0 0% 96%;
    --sidebar-accent-foreground: 0 0% 10%;
    --sidebar-border: 0 0% 90%;
    --sidebar-ring: 217 91% 60%;
    
    /* =========================================================================
       DECORATIVE VARIABLES - Can be overridden by background themes
       ========================================================================= */
    --app-background: hsl(0 0% 100%);
    --app-gradient: none;
    --decorative-accent: 217 91% 60%;
    
    /* Glassmorphism effects */
    --glass-bg: hsla(217, 91%, 60%, 0.08);
    --glass-border: hsla(217, 91%, 60%, 0.15);
    --glass-shadow: 0 8px 32px hsla(0, 0%, 0%, 0.08);
    
    /* Quote card styling */
    --quote-shadow: 0 4px 20px hsla(0, 0%, 0%, 0.08);
    --quote-shadow-hover: 0 8px 30px hsla(0, 0%, 0%, 0.12);
    
    /* Special gradients */
    --gradient-blue: linear-gradient(135deg, #4A90E2, #007AFF);
    
    /* Category gradients - Light mode */
    --gradient-motivation: linear-gradient(135deg, hsl(15 80% 85%) 0%, hsl(30 90% 80%) 100%);
    --gradient-mindfulness: linear-gradient(135deg, hsl(158 70% 85%) 0%, hsl(146 80% 80%) 100%);
    --gradient-humor: linear-gradient(135deg, hsl(45 80% 85%) 0%, hsl(60 90% 80%) 100%);
    --gradient-productivity: linear-gradient(135deg, hsl(158 60% 85%) 0%, hsl(140 70% 80%) 100%);
    --gradient-creativity: linear-gradient(135deg, hsl(280 70% 85%) 0%, hsl(300 80% 80%) 100%);
    --gradient-resilience: linear-gradient(135deg, hsl(158 60% 85%) 0%, hsl(180 70% 80%) 100%);
    
    /* Glow effects */
    --glow-primary: 0 0 20px hsla(217, 91%, 60%, 0.4);
    
    /* Animation timing */
    --transition-smooth: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
    --transition-quick: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);
  }

  /* =========================================================================
     DARK MODE - Overrides ALL semantic tokens
     ========================================================================= */
  .dark {
    --background: 222 47% 6%;          /* Very dark blue-gray */
    --foreground: 0 0% 98%;            /* Near white text */
    
    --card: 222 47% 8%;
    --card-foreground: 0 0% 98%;
    
    --popover: 222 47% 8%;
    --popover-foreground: 0 0% 98%;
    
    --primary: 217 91% 65%;
    --primary-foreground: 222 47% 6%;
    
    --secondary: 222 47% 12%;
    --secondary-foreground: 0 0% 98%;
    
    --muted: 222 47% 12%;
    --muted-foreground: 0 0% 65%;
    
    --accent: 217 91% 65%;
    --accent-foreground: 222 47% 6%;
    
    --destructive: 0 62% 50%;
    --destructive-foreground: 0 0% 98%;
    
    --border: 222 47% 15%;
    --input: 222 47% 15%;
    --ring: 217 91% 65%;
    
    /* Sidebar semantic tokens - dark */
    --sidebar-background: 222 47% 8%;
    --sidebar-foreground: 0 0% 98%;
    --sidebar-primary: 217 91% 65%;
    --sidebar-primary-foreground: 222 47% 6%;
    --sidebar-accent: 222 47% 12%;
    --sidebar-accent-foreground: 0 0% 98%;
    --sidebar-border: 222 47% 15%;
    --sidebar-ring: 217 91% 65%;
    
    /* Decorative variables - dark defaults */
    --app-background: hsl(222 47% 6%);
    --glass-bg: hsla(217, 91%, 60%, 0.1);
    --glass-border: hsla(217, 91%, 60%, 0.2);
    --glass-shadow: 0 8px 32px hsla(0, 0%, 0%, 0.3);
    
    --quote-shadow: 0 4px 20px hsla(0, 0%, 0%, 0.3);
    --quote-shadow-hover: 0 8px 30px hsla(217, 91%, 60%, 0.2);
    
    --glow-primary: 0 0 20px hsla(217, 91%, 60%, 0.5);
  }
}

/* =============================================================================
   BACKGROUND THEMES - ONLY decorative overrides, NEVER semantic tokens
   
   These ONLY affect:
   - --app-background (the main page background)
   - --app-gradient (optional gradient overlay)
   - --glass-* variables (glassmorphism effects)
   - --decorative-accent (theme-specific accent for decorative elements)
   ============================================================================= */

/* No theme applied = pure defaults (no overrides needed) */

/* DEFAULT THEME - Neutral grey */
html[data-theme="default"]:not(.dark) {
  --app-background: hsl(220 10% 94%);
  --app-gradient: linear-gradient(180deg, hsl(220 10% 94%) 0%, hsl(220 8% 88%) 100%);
  --decorative-accent: 220 10% 50%;
  --glass-bg: hsla(220, 10%, 50%, 0.12);
  --glass-border: hsla(220, 10%, 50%, 0.22);
}

html[data-theme="default"].dark {
  --app-background: hsl(220 10% 10%);
  --app-gradient: linear-gradient(180deg, hsl(220 10% 10%) 0%, hsl(220 8% 14%) 100%);
  --decorative-accent: 220 10% 50%;
  --glass-bg: hsla(220, 10%, 50%, 0.15);
  --glass-border: hsla(220, 10%, 50%, 0.28);
}

/* OCEAN THEME - Bolder blues */
html[data-theme="ocean"]:not(.dark) {
  --app-background: hsl(197 80% 92%);
  --app-gradient: linear-gradient(180deg, hsl(197 80% 92%) 0%, hsl(197 70% 85%) 100%);
  --decorative-accent: 197 80% 48%;
  --glass-bg: hsla(197, 80%, 48%, 0.14);
  --glass-border: hsla(197, 80%, 48%, 0.26);
}

html[data-theme="ocean"].dark {
  --app-background: hsl(200 60% 10%);
  --app-gradient: linear-gradient(180deg, hsl(200 60% 10%) 0%, hsl(200 70% 15%) 100%);
  --decorative-accent: 197 80% 52%;
  --glass-bg: hsla(197, 80%, 52%, 0.16);
  --glass-border: hsla(197, 80%, 52%, 0.32);
}

/* SUNSET THEME - Bolder oranges/purples */
html[data-theme="sunset"]:not(.dark) {
  --app-background: hsl(24 100% 92%);
  --app-gradient: linear-gradient(180deg, hsl(24 100% 92%) 0%, hsl(280 70% 88%) 100%);
  --decorative-accent: 24 95% 50%;
  --glass-bg: hsla(24, 95%, 50%, 0.14);
  --glass-border: hsla(24, 95%, 50%, 0.26);
}

html[data-theme="sunset"].dark {
  --app-background: hsl(24 60% 10%);
  --app-gradient: linear-gradient(180deg, hsl(24 60% 10%) 0%, hsl(280 50% 15%) 100%);
  --decorative-accent: 24 95% 53%;
  --glass-bg: hsla(24, 95%, 53%, 0.16);
  --glass-border: hsla(24, 95%, 53%, 0.32);
}

/* FOREST THEME - Bolder greens */
html[data-theme="forest"]:not(.dark) {
  --app-background: hsl(142 60% 92%);
  --app-gradient: linear-gradient(180deg, hsl(142 60% 92%) 0%, hsl(142 70% 85%) 100%);
  --decorative-accent: 142 80% 32%;
  --glass-bg: hsla(142, 80%, 32%, 0.14);
  --glass-border: hsla(142, 80%, 32%, 0.26);
}

html[data-theme="forest"].dark {
  --app-background: hsl(142 50% 10%);
  --app-gradient: linear-gradient(180deg, hsl(142 50% 10%) 0%, hsl(142 60% 15%) 100%);
  --decorative-accent: 142 80% 36%;
  --glass-bg: hsla(142, 80%, 36%, 0.16);
  --glass-border: hsla(142, 80%, 36%, 0.32);
}

/* PURPLE THEME - Bolder purples */
html[data-theme="purple"]:not(.dark) {
  --app-background: hsl(262 70% 93%);
  --app-gradient: linear-gradient(180deg, hsl(262 70% 93%) 0%, hsl(262 80% 88%) 100%);
  --decorative-accent: 262 85% 55%;
  --glass-bg: hsla(262, 85%, 55%, 0.14);
  --glass-border: hsla(262, 85%, 55%, 0.26);
}

html[data-theme="purple"].dark {
  --app-background: hsl(262 50% 10%);
  --app-gradient: linear-gradient(180deg, hsl(262 50% 10%) 0%, hsl(262 60% 15%) 100%);
  --decorative-accent: 262 85% 58%;
  --glass-bg: hsla(262, 85%, 58%, 0.16);
  --glass-border: hsla(262, 85%, 58%, 0.32);
}

/* ROSE THEME - Bolder pinks */
html[data-theme="rose"]:not(.dark) {
  --app-background: hsl(330 70% 93%);
  --app-gradient: linear-gradient(180deg, hsl(330 70% 93%) 0%, hsl(346 80% 88%) 100%);
  --decorative-accent: 330 85% 56%;
  --glass-bg: hsla(330, 85%, 56%, 0.14);
  --glass-border: hsla(330, 85%, 56%, 0.26);
}

html[data-theme="rose"].dark {
  --app-background: hsl(330 50% 10%);
  --app-gradient: linear-gradient(180deg, hsl(330 50% 10%) 0%, hsl(346 60% 15%) 100%);
  --decorative-accent: 330 85% 60%;
  --glass-bg: hsla(330, 85%, 60%, 0.16);
  --glass-border: hsla(330, 85%, 60%, 0.32);
}

/* EMERALD THEME - Bolder teals */
html[data-theme="emerald"]:not(.dark) {
  --app-background: hsl(158 60% 92%);
  --app-gradient: linear-gradient(180deg, hsl(158 60% 92%) 0%, hsl(160 70% 85%) 100%);
  --decorative-accent: 158 70% 48%;
  --glass-bg: hsla(158, 70%, 48%, 0.14);
  --glass-border: hsla(158, 70%, 48%, 0.26);
}

html[data-theme="emerald"].dark {
  --app-background: hsl(158 50% 10%);
  --app-gradient: linear-gradient(180deg, hsl(158 50% 10%) 0%, hsl(160 60% 15%) 100%);
  --decorative-accent: 158 70% 52%;
  --glass-bg: hsla(158, 70%, 52%, 0.16);
  --glass-border: hsla(158, 70%, 52%, 0.32);
}

/* AMBER THEME - Bolder golds */
html[data-theme="amber"]:not(.dark) {
  --app-background: hsl(38 90% 92%);
  --app-gradient: linear-gradient(180deg, hsl(38 90% 92%) 0%, hsl(25 95% 85%) 100%);
  --decorative-accent: 38 95% 46%;
  --glass-bg: hsla(38, 95%, 46%, 0.14);
  --glass-border: hsla(38, 95%, 46%, 0.26);
}

html[data-theme="amber"].dark {
  --app-background: hsl(38 60% 10%);
  --app-gradient: linear-gradient(180deg, hsl(38 60% 10%) 0%, hsl(25 70% 15%) 100%);
  --decorative-accent: 38 95% 50%;
  --glass-bg: hsla(38, 95%, 50%, 0.16);
  --glass-border: hsla(38, 95%, 50%, 0.32);
}

/* INDIGO THEME - Bolder indigos */
html[data-theme="indigo"]:not(.dark) {
  --app-background: hsl(231 60% 93%);
  --app-gradient: linear-gradient(180deg, hsl(231 60% 93%) 0%, hsl(217 70% 88%) 100%);
  --decorative-accent: 231 55% 44%;
  --glass-bg: hsla(231, 55%, 44%, 0.14);
  --glass-border: hsla(231, 55%, 44%, 0.26);
}

html[data-theme="indigo"].dark {
  --app-background: hsl(231 50% 10%);
  --app-gradient: linear-gradient(180deg, hsl(231 50% 10%) 0%, hsl(217 60% 15%) 100%);
  --decorative-accent: 231 55% 48%;
  --glass-bg: hsla(231, 55%, 48%, 0.16);
  --glass-border: hsla(231, 55%, 48%, 0.32);
}

/* =============================================================================
   BASE STYLES
   ============================================================================= */

@layer base {
  * {
    @apply border-border;
  }

  body {
    @apply text-foreground;
    background: var(--app-background);
    font-family: 'Inter', system-ui, -apple-system, sans-serif;
    min-height: 100vh;
  }
  
  /* Apply gradient overlay if theme defines one */
  body::before {
    content: '';
    position: fixed;
    inset: 0;
    background: var(--app-gradient);
    pointer-events: none;
    z-index: -1;
  }
}

/* =============================================================================
   COMPONENT STYLES
   ============================================================================= */

@layer components {
  /* Glassmorphism quote card */
  .quote-card {
    @apply rounded-2xl p-8 border transition-all duration-500;
    background: var(--glass-bg);
    backdrop-filter: blur(12px);
    border: 1px solid var(--glass-border);
    box-shadow: var(--quote-shadow);
  }
  
  .quote-card:hover {
    box-shadow: var(--quote-shadow-hover);
    transform: translateY(-4px);
  }
  
  /* Glass card component */
  .glass-card {
    @apply rounded-xl border relative;
    background: var(--glass-bg);
    backdrop-filter: blur(12px);
    border: 1px solid var(--glass-border);
    box-shadow: var(--glass-shadow);
  }
  
  .glass-button {
    @apply rounded-lg border transition-all duration-300;
    background: var(--glass-bg);
    backdrop-filter: blur(8px);
    border: 1px solid var(--glass-border);
  }
  
  .glass-button:hover {
    background: hsla(var(--decorative-accent), 0.15);
    transform: scale(1.05);
  }
  
  /* Gradient backgrounds */
  .gradient-motivation { background: var(--gradient-motivation); }
  .gradient-mindfulness { background: var(--gradient-mindfulness); }
  .gradient-humor { background: var(--gradient-humor); }
  .gradient-productivity { background: var(--gradient-productivity); }
  .gradient-creativity { background: var(--gradient-creativity); }
  .gradient-resilience { background: var(--gradient-resilience); }
  .gradient-blue { background: var(--gradient-blue); color: white; }
  
  /* Glow effects */
  .glow-primary { box-shadow: var(--glow-primary); }
  
  /* Animations */
  @keyframes float {
    0%, 100% { transform: translateY(0px); }
    50% { transform: translateY(-10px); }
  }
  
  @keyframes glow-pulse {
    0%, 100% { box-shadow: var(--glow-primary); }
    50% { box-shadow: 0 0 30px hsla(217, 91%, 60%, 0.6); }
  }
  
  @keyframes slide-up {
    0% { 
      opacity: 0;
      transform: translateY(100px);
    }
    100% { 
      opacity: 1;
      transform: translateY(0);
    }
  }
  
  @keyframes pulse-heart {
    0% { transform: scale(1); }
    50% { transform: scale(1.2); }
    100% { transform: scale(1); }
  }
  
  .float-animation { animation: float 6s ease-in-out infinite; }
  .glow-pulse { animation: glow-pulse 2s ease-in-out infinite; }
  .animate-slide-up { animation: slide-up 0.4s ease-out; }
  .pulse-heart { animation: pulse-heart 0.3s ease-in-out; }
  .animate-glow-pulse { animation: glow-pulse 2s ease-in-out infinite; }
  
  /* Premium glow effect */
  .premium-glow {
    position: relative;
  }
  
  .premium-glow::before {
    content: '';
    position: absolute;
    inset: -2px;
    border-radius: inherit;
    padding: 2px;
    background: linear-gradient(45deg, #ff6b6b, #4ecdc4, #45b7d1, #96ceb4, #feca57);
    mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);
    mask-composite: exclude;
    animation: glow-pulse 2s ease-in-out infinite;
  }
}
